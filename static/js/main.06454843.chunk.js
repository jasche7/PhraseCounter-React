(this.webpackJsonpphrasecounter=this.webpackJsonpphrasecounter||[]).push([[0],{27:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(10),a=n.n(r),s=(n(27),n(8)),o=n(17),j=n(7),i=n(18),u=n(22),l=n(11),b=n(9),d=n(1),h=function(e){var t=Object(c.useState)(),n=Object(s.a)(t,2),r=n[0],a=n[1],h=Object(c.useState)(2),O=Object(s.a)(h,2),x=O[0],f=O[1],p=Object(c.useState)(5),g=Object(s.a)(p,2),m=g[0],v=g[1],y=Object(c.useState)(!1),S=Object(s.a)(y,2),C=S[0],k=S[1],q=Object(c.useState)(!1),L=Object(s.a)(q,2),T=L[0],w=L[1],I=e.loading;return Object(d.jsxs)(j.a,{onSubmit:function(t){t.preventDefault(),e.setRequestBody([r,x,m,C,T]),e.clickFunction()},children:[Object(d.jsxs)(j.a.Group,{controlId:"formText",children:[Object(d.jsx)(j.a.Label,{children:"Text"}),Object(d.jsx)(j.a.Control,{required:!0,as:"textarea",placeholder:"Enter text",maxLength:"3000",value:r,onChange:function(e){return a(e.target.value)}}),Object(d.jsx)(j.a.Text,{className:"text-muted",children:"3000 characters max"})]}),Object(d.jsxs)(l.a,{style:{display:"flex"},children:[Object(d.jsx)(b.a,{children:Object(d.jsxs)(j.a.Group,{controlId:"formText",children:[Object(d.jsx)(j.a.Label,{children:"Min Occurrences:"}),Object(d.jsx)(j.a.Control,{type:"number",value:x,onChange:function(e){return f(e.target.value)}})]})}),Object(d.jsxs)(b.a,{children:[Object(d.jsxs)(j.a.Group,{controlId:"formText",children:[Object(d.jsx)(u.a,{overlay:Object(d.jsx)(i.a,{children:"Keep low for faster, stabler results!"}),children:Object(d.jsx)(j.a.Label,{children:"Max Phrase Length:"})}),Object(d.jsx)(j.a.Control,{type:"number",value:m,onChange:function(e){return v(e.target.value)}})]}),Object(d.jsx)(j.a.Text,{className:"text-muted",children:"0 for no max"})]}),Object(d.jsxs)(b.a,{children:[Object(d.jsx)(l.a,{children:Object(d.jsx)(j.a.Group,{controlId:"formCaseSensitive",children:Object(d.jsx)(j.a.Check,{type:"checkbox",label:"Case Sensitive",defaultChecked:C,onChange:function(e){return k(e.target.checked)}})})}),Object(d.jsx)(l.a,{children:Object(d.jsx)(j.a.Group,{controlId:"formIgnoringPunctuation",children:Object(d.jsx)(j.a.Check,{type:"checkbox",label:"Ignore Punctuation",defaultChecked:T,onChange:function(e){return w(e.target.checked)}})})})]}),Object(d.jsx)(b.a,{className:"my-auto",children:I?Object(d.jsx)(o.a,{disabled:!0,children:"Submit"}):Object(d.jsx)(o.a,{type:"submit",children:"Submit"})})]})]})},O=function(e){return Object(d.jsx)(j.a,{children:Object(d.jsxs)(j.a.Group,{controlId:"display",children:[Object(d.jsx)(j.a.Label,{children:"Display Text"}),Object(d.jsx)(j.a.Control,{required:!0,as:"textarea",value:e.text,rows:8,disabled:!0})]})})},x=function(e){return Object(d.jsxs)("div",{children:[e.phrase,": ",e.count]})},f=n(20),p=n(16),g=n.n(p),m=n(19),v="https://phrase-counter.herokuapp.com",y=function(){var e=Object(m.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v+"/phrase",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){console.log(e),e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S="serverdown",C="badrequest",k=function(e){var t=Object(c.useState)(!1),n=Object(s.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)([]),j=Object(s.a)(o,2),i=j[0],u=j[1],l=Object(c.useState)(!1),b=Object(s.a)(l,2),h=b[0],O=b[1],p=e.loading,g=e.setLoading,m=e.requestBody,k=e.active;return Object(c.useEffect)((function(){r||(fetch(v).catch((function(){console.log("Sent wake-up request to server")})),a(!0));var e;if(k){var t={text:m[0],minOccurrences:m[1],maxPhraseLength:m[2],caseSensitive:m[3],ignoringPunctuation:m[4]};e=t,g(!0),y(e).then((function(e){e&&500===e.status?O(C):e&&(u(Object.entries(e)),O(!1))})).catch((function(e){console.error(e.message),O(S)})).finally(g(!1))}}),[k,r,m,g]),Object(d.jsx)(d.Fragment,{children:function(){if(p)return Object(d.jsx)(f.a,{animation:"border",role:"status",children:Object(d.jsx)("span",{className:"sr-only",children:"Loading..."})});if(!h)return i.map((function(e){return Object(d.jsx)(x,{phrase:e[0],count:e[1]},e[0])}));switch(h){case S:return Object(d.jsx)("p",{children:"Request failed. The server may be down."});case C:return Object(d.jsx)("p",{children:"Request failed. Your request may be too long."});default:return Object(d.jsx)("p",{children:"Request failed."})}}()})},q=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("h3",{children:"Phrase Counter"})})},L=n(21),T=(n(34),function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),o=Object(s.a)(a,2),j=o[0],i=o[1],u=Object(c.useState)(!1),x=Object(s.a)(u,2),f=x[0],p=x[1];return Object(d.jsxs)(L.a,{children:[Object(d.jsx)(l.a,{children:Object(d.jsx)(b.a,{children:Object(d.jsx)(q,{})})}),Object(d.jsxs)(l.a,{children:[Object(d.jsx)(b.a,{children:Object(d.jsx)(h,{clickFunction:function(){return i(!0)},setRequestBody:r,loading:f})}),Object(d.jsx)(b.a,{children:Object(d.jsx)(O,{className:"display-box",text:n[0]})})]}),Object(d.jsx)(l.a,{children:Object(d.jsx)(b.a,{children:Object(d.jsx)(k,{active:j,loading:f,setLoading:p,requestBody:n})})})]})}),w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};a.a.render(Object(d.jsx)(T,{}),document.getElementById("root")),w()}},[[35,1,2]]]);
//# sourceMappingURL=main.06454843.chunk.js.map